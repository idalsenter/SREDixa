import typescript from "typescript";
import { ComponentResource } from "../../resource";
export declare type PropertyType = "string" | "integer" | "number" | "boolean" | "array" | "object";
export declare type PropertyDefinition = ({
    type: PropertyType;
} | {
    $ref: string;
}) & {
    description?: string;
    optional?: boolean;
    plain?: boolean;
    additionalProperties?: PropertyDefinition;
    items?: PropertyDefinition;
};
export declare type ComponentDefinition = {
    name: string;
    description?: string;
    inputs: Record<string, PropertyDefinition>;
    outputs: Record<string, PropertyDefinition>;
};
export declare type TypeDefinition = {
    name: string;
    properties: Record<string, PropertyDefinition>;
    description?: string;
};
export declare type AnalyzeResult = {
    components: Record<string, ComponentDefinition>;
    typeDefinitions: Record<string, TypeDefinition>;
    packageReferences: Record<string, string>;
};
export declare enum InputOutput {
    Neither = 0,
    Input = 1,
    Output = 2
}
export declare class Analyzer {
    private providerName;
    private checker;
    private program;
    private components;
    private typeDefinitions;
    private packageReferences;
    private docStrings;
    constructor(dir: string, providerName: string);
    analyze(): AnalyzeResult;
    findComponent(name: string): Promise<typeof ComponentResource>;
    private analyzeFile;
    private analyzeComponent;
    private isPulumiComponent;
    private analyzeSymbols;
    private analyzeSymbol;
    private analyzeType;
    unwrapTypeReference(context: {
        component: string;
        property: string;
        inputOutput: InputOutput;
        typeName?: string;
    }, type: typescript.Type): typescript.Type;
    private formatErrorContext;
    /**
     * Gets the Pulumi resource type information for a resource reference.
     * A strong assumption is that the referenced resource class is in a package installed to node_modules
     * and contains a standard Pulumi-generated SDK compiled into JavaScript. To find the resource type token,
     * the function will attempt to find the JavaScript module file that contains the resource class, and then
     * extract the type from the __pulumiType property of the resource class. To find the package version,
     * the function will attempt to read the package.json file in the root directory of the referenced package.
     * @returns Object containing packageName, packageVersion, and pulumiType token
     * @throws Error if the resource type cannot be determined with detailed context information
     */
    private getResourceType;
}
